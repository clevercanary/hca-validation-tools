id: https://github.com/clevercanary/hca-validation-tools/schema/sample
name: hca-validation-sample
title: HCA Validation Sample Schema
description: Schema for validating Human Cell Atlas (HCA) sample metadata
license: MIT
version: 0.1.0

prefixes:
  linkml: https://w3id.org/linkml/
  hca: https://github.com/clevercanary/hca-validation-tools/schema/

default_prefix: hca
default_range: string

imports:
  - linkml:types
  - ./slots

classes:
  Sample:
    description: >-
      A biological sample derived from a donor or another sample
    slots:
      - sample_id
      - donor_id
      - dataset_id
      - author_batch_notes
      - cell_number_loaded
      - cell_viability_percentage

slots:
  sample_id:
    title: Sample ID
    range: string
    required: true

  donor_id:
    title: Donor ID
    range: string
    required: true

  author_batch_notes:
    title: Author Batch Notes
    description: >-
      Encoding of author knowledge on any further information related to likely batch effects.
    examples:
      - value: Batch run by different personnel on different days
    annotations:
      annDataLocation: obs
      tier: Tier 1
    range: string
    required: false
    multivalued: false
    comments: >-
      Space for author intuition of batch effects in their dataset

  cell_number_loaded:
    title: Cell Number Loaded
    description: >-
      Estimated number of cells loaded for library construction.
    examples:
      - value: "5000; 4000"
    annotations:
      annDataLocation: obs
      tier: Tier 1
    range: integer
    required: false
    multivalued: false
    comments: >-
      Can explain the number of doublets found in samples

  cell_viability_percentage:
    title: Cell Viability Percentage
    description: >-
      If measured, per sample cell viability before library preparation (as a percentage).
    examples:
      - value: "88; 95; 93.5"
    annotations:
      annDataLocation: obs
      tier: Tier 1
    range: decimal
    required: false
    multivalued: false
    comments: >-
      Is a measure of sample quality that could be used to explain outlier samples
